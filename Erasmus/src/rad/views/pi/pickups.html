<div cg-busy="{promise:PikcupSaving,message:'Saving Pickup', backdrop:true,templateUrl:'views/busy-templates/full-page-busy.html'}"></div>
<div cg-busy="{promise:piPromise,message:'Loading', backdrop:true,templateUrl:'views/busy-templates/full-page-busy.html'}"></div>

<div class="neg-marg" ng-if="pi && pi.Rooms.length">
	<div class="alert alert-info" ng-if="scheduledPickups">
		<h3></h3> 
	</div>

	<div class="card super">
		<h3 class="card-header"><i class="icon-box-remove"></i>You have <span class="bold">{{pi.Pickups.length}} Requested Pickup<span ng-if="pi.SolidsContainers.length != 1">s</span></span>
			<a ng-click="openModal('views/pi/pi-modals/solids-container-modal')" class="btn btn-success left"><i class="icon-box-remove"></i>Request Pickup</a>
		</h3>
		<div class="fake-table striped bordered" ng-if="pi.Pickups.length">
				<div class="table-header">
					<h3>Edit</h3>
					<h3>Date Requested</h3>
					<h3>Pickup Date</h3>
				</div>
				<div class="table-row" ng-repeat="pickup in pi.Pickups" ng-class="{'green':!pickup.Pickup_date}">
					<div>
						<a ng-click="af.removeWasteBagFromContainer(container, bag)" class="btn btn-danger"><i class="icon-remove"></i></a>
					</div>
					<div>
						{{pickup.Date_created | dateToISO}}
					</div>
					<div>
						{{pickup.Pickup_date | dateToISO}}
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
