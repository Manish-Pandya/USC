<?php
$json = '[
    
    {
    	"Name": "(Aiken) ALAN B. MILLER NURSING BUILDING",
		"KeyId": "407",
		"bldg_id": "926",
		"rooms": [
    			{
    				"Name": "103",
    				"KeyId": 645654,
    				"isNew": false,
    				"PIs": [
    					{
    						"Name": "John Investigator",
    						"KeyId": 12346546,
    						"Departments": [],
    						"SafteyContacts":[
	    						{
	    							"Name": "Contact 1",
	    							"Phone": "803 xxx-xxxx"
	    						}
    						],
    						"Hazards": [
    					{
    						"Class": "Hazard",
    						"Name": "Biological Materials",
    						"ParentHazardId": null,
    						"SubHazards": [
    							{
    							"Class": "Hazard",
    							"Name": "Biosafety Levels",
    							"ParentHazardId": 1,
    							"SubHazards": [
	    							{
	    								"Class": "Hazard",
	    								"Name": "Biosafety Level 1 (BSL-1)",
	    								"ParentHazardId": 55555,
	    								"SubHazards": [],
	    								"Checklists": null,
	    								"rooms": null,
	    								"KeyId": 109,
	    								"DateCreated": null,
	    								"DateLastModified": null,
	    								"IsActive": null
	    							}
	    						]
	    					}
	    				]     
					}
				]
    					},
    					{
    						"Name": "John Investigator2",
    						"KeyId": 12346546,
    						"Departments": [],
    						"SafteyContacts":[
	    						{
	    							"Name": "Contact 2",
	    							"Phone": "803 xxx-xxxx"
	    						}
    						]

    					}
    				]
    				
			},
			{
    				"Name": "10aa",
    				"KeyId": 645654,
    				"PIs": [
    					{
    						"Name": "John Investigator",
    						"KeyId": 12346546,
    						"Departments": [],
    						"Contacts":[
	    						{
	    							"Name": "Contact 1",
	    							"Phone": "803 xxx-xxxx"
	    						}
    						]
    					},
    					{
    						"Name": "John Investigator2",
    						"KeyId": 12346546,
    						"Departments": [],
    						"Contacts":[
	    						{
	    							"Name": "Contact 2",
	    							"Phone": "803 xxx-xxxx"
	    						}
    						]

    					}
    				],
    				"Hazards": [
    					{
    						"Class": "Hazard",
    						"Name": "Biological Materials",
    						"ParentHazardId": null,
    						"SubHazards": [
    							{
    							"Class": "Hazard",
    							"Name": "Biosafety Levels",
    							"ParentHazardId": 1,
    							"SubHazards": [
	    							{
	    								"Class": "Hazard",
	    								"Name": "Biosafety Level 1 (BSL-1)",
	    								"ParentHazardId": 55555,
	    								"SubHazards": [],
	    								"Checklists": null,
	    								"rooms": null,
	    								"KeyId": 109,
	    								"DateCreated": null,
	    								"DateLastModified": null,
	    								"IsActive": null
	    							}
	    						]
	    					}
	    				]     
					}
				]
			}

	    ]
    },
    
	{
		"Name": "(Aiken) ANCILL BUILDING CONCESSIONS",
		"KeyId": "393",
		"bldg_id": "907"
	},



	{
		"Name": "(Aiken) BUSINESS & EDUCATION BLDG",
		"KeyId": "403",
		"bldg_id": "916"
	},



	{
		"Name": "(Aiken) CHILD DEVELOPMENT CENTER",
		"KeyId": "398",
		"bldg_id": "911"
	},



	{
		"Name": "(Aiken) CONVOCATION CENTER",
		"KeyId": "406",
		"bldg_id": "921"
	},



	{
		"Name": "(Aiken) ETHERREDGE CENTER",
		"KeyId": "395",
		"bldg_id": "909"
	},



	{
		"Name": "(Aiken) GREGG-GRANITEVILLE LIBRARY",
		"KeyId": "389",
		"bldg_id": "904"
	},



	{
		"Name": "(Aiken) HUMANITIES & SOCIAL SCIENCES",
		"KeyId": "392",
		"bldg_id": "906"
	},

	{
		"Name": "(Aiken) NATATORIUM",
		"KeyId": "391",
		"bldg_id": "905A"
	},



	{
		"Name": "(Aiken) PACER COMMONS",
		"KeyId": "410",
		"bldg_id": "928"
	},



	{
		"Name": "(Aiken) PACER CROSSINGS",
		"KeyId": "411",
		"bldg_id": "929"
	},



	{
		"Name": "(Aiken) PACER DOWNS APARTMENTS",
		"KeyId": "408",
		"bldg_id": "927"
	},



	{
		"Name": "(Aiken) PACER DOWNS OFFICE MARKET",
		"KeyId": "409",
		"bldg_id": "927A"
	},



	{
		"Name": "(Aiken) PICKENS SALLEY HOUSE",
		"KeyId": "399",
		"bldg_id": "912"
	},



	{
		"Name": "(Aiken) PRESSBOX OFFICE",
		"KeyId": "400",
		"bldg_id": "913"
	},



	{
		"Name": "(Aiken) ROBERT E PENLAND ADM & CLS",
		"KeyId": "388",
		"bldg_id": "903"
	},



	{
		"Name": "(Aiken) ROBERTO HERNANDEZ STADIUM",
		"KeyId": "405",
		"bldg_id": "920"
	},



	{
		"Name": "(Aiken) RUTH PATRICK SCIENCE",
		"KeyId": "402",
		"bldg_id": "915"
	},



	{
		"Name": "(Aiken) SCIENCE BUILDING",
		"KeyId": "397",
		"bldg_id": "910"
	},



	{
		"Name": "(Aiken) SOCCER BUILDING",
		"KeyId": "404",
		"bldg_id": "918"
	},



	{
		"Name": "(Aiken) SOFTBALL TEAM ROOM",
		"KeyId": "401",
		"bldg_id": "914"
	},



	{
		"Name": "(Aiken) STORAGE BUILDING",
		"KeyId": "396",
		"bldg_id": "909A"
	},



	{
		"Name": "(Aiken) STUDENT CENTER",
		"KeyId": "390",
		"bldg_id": "905"
	},



	{
		"Name": "(Aiken) SUPPLY MAINTENANCE",
		"KeyId": "394",
		"bldg_id": "908"
	},



	{
		"Name": "(Aiken) TENNIS OFFICE",
		"KeyId": "387",
		"bldg_id": "902"
	},



	{
		"Name": "(Aiken) TRAILER 1",
		"KeyId": "386",
		"bldg_id": "901"
	},



	{
		"Name": "(Beaufort) ART STUDIO",
		"KeyId": "368",
		"bldg_id": "804"
	},



	{
		"Name": "(Beaufort) BARNWELL HOUSE",
		"KeyId": "382",
		"bldg_id": "811"
	},



	{
		"Name": "(Beaufort) BEAUFORT COLLEGE BUILDING",
		"KeyId": "364",
		"bldg_id": "801"
	},



	{
		"Name": "(Beaufort) CAMPUS CENTER",
		"KeyId": "383",
		"bldg_id": "812"
	},



	{
		"Name": "(Beaufort) CENTER FOR THE ARTS",
		"KeyId": "371",
		"bldg_id": "807"
	},



	{
		"Name": "(Beaufort) COASTAL ZONE ED CENTER",
		"KeyId": "373",
		"bldg_id": "809"
	},



	{
		"Name": "(Beaufort) ELLIOTT HOUSE",
		"KeyId": "365",
		"bldg_id": "801A"
	},


]';


$output = $json;


//If a callback function is requested
if( array_key_exists('callback', $_GET) ){
	// Echo request-param 'callback' as function
	$output = $_GET['callback'] . "($json)";
}

// begin output
// TODO: Will we ever need to use a different header?
header('content-type: application/javascript');

// Output JSON (with possible callback)
echo $output;
?>