<div class="modal-header footer-present" style="padding:0;">
    <h2 style="padding:5px;" class="redBg">{{modalData.HazardDto.Hazard_name}}</h2>
</div>
<div class="modal-body">
    <ul>
        <li ng-repeat="(key, room) in modalData.Hazard.InspectionRooms" class="hazard-room">
            <label class="checkbox inline">
                <input type="checkbox" ng-model="room.ContainsHazard" ng-change="af.savePIHazardRoom(room, modalData.Hazard, true, modalData.GrandParent)" ng-disabled="constants.BRANCH_HAZARD_IDS.indexOf(modalData.Hazard.Parent_hazard_id) < 0 && !modalData.Parent.InspectionRooms[$index].ContainsHazard" />
                <span class="metro-checkbox">
                    {{room.Building_name}}, Room {{room.Room_name}} {{room.Class}}
                </span>
                <label class="checkbox inline" ng-if="room.ContainsHazard">
                    <!-- must be checked and disabled if the corresponding room for the parent has a stored only status.  a hazard MUST be stored only if its parent is -->
                    <input type="checkbox" ng-model="room.storedOnly" ng-checked="room.Status == constants.HAZARD_PI_ROOM.STATUS.STORED_ONLY || modalData.Parent.InspectionRooms[$index].Status == constants.HAZARD_PI_ROOM.STATUS.STORED_ONLY" ng-change="room.Status = room.storedOnly ? 'Stored Only':'In Use';af.savePIHazardRoom(room, modalData.Hazard)" ng-disabled="constants.BRANCH_HAZARD_IDS.indexOf(modalData.Hazard.Parent_hazard_id)<0 && modalData.Parent.InspectionRooms[$index].Status == constants.HAZARD_PI_ROOM.STATUS.STORED_ONLY"/>
                    <span class="metro-checkbox">Stored Only</span>
                </label>
            </label>
            <div class="clearfix"></div>
        </li>
    </ul>
</div>
<div class="modal-footer">
    <a class="btn btn-large btn-danger left" ng-click="edit(false);close()"><i class="icon-cancel-2"></i>Close</a>
</div>

