<label class="checkbox inline">
    <input type="checkbox" ng-model="child.IsPresent" ng-change="af.handleHazardChecked(child, hazard)"/>
    <span class="metro-checkbox"></span>
</label>
<span style="font-size: 14px;font-weight: normal;line-height: 20px;">
    <span class="metro-checkbox targetHaz" ng-if="!room.HasMultiplePIs">
        {{child.Hazard_name}}
        <span ng-if="child.Stored_only || child.storedOnly" class="stored">(Stored Only)</span>    </span>
    <img ng-if="child.IsDirty" class="smallLoading" src="../../img/loading.gif" />
</span>
<div class="icons">
    <!--</h4>-->
    <span ng-if="child.ActiveSubHazards.length || child.HasChildren&& child.IsPresent ">
        <i class="icon-plus-2 modal-trigger-plus-2" ng-click="openSubsModal(child)"></i>
    </span>
    <span ng-if="child.IsPresent">
        <i class="icon-pencil primary" ng-click="openRoomsModal(child)"></i>
    </span>

    <span ng-if="child.IsPresent && child.HasMultiplePis">
        <i class="icon-info" ng-click="openMultiplePIsModal(child)"></i>
    </span>
</div>

<ul class="subRooms" ng-if="getShowRooms(child)" ng-repeat="(key, building) in child.InspectionRooms | groupBy: 'Building_name'">
    <li>{{ key }}: <span ng-repeat="room in building | filter: {ContainsHazard: true}"><a ng-click="openMultiplePIsModal(child, room)" ng-if="room.HasMultiplePis">{{ room.Room_name }}</a><span ng-if="!room.HasMultiplePis">{{ room.Room_name }}</span><span ng-if="!$last">, </span></span></li>
</ul>

<ul>
    <li ng-class="{'yellowed': child.Stored_only || child.storedOnly}" ng-repeat="child in child.ActiveSubHazards | orderBy: 'Order_index'" ng-if="child.IsPresent" id="id-{{child.Hazard_id}}" class="hazardLi"><span data-ng-include="'views/sub-hazard.html'"></span></li>
</ul>
